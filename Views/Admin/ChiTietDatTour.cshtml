@* 

 @model VNTour.Data.DatTour
@{
    ViewData["Title"] = "Chi tiết Đặt Tour";
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
}

<style>
    .tour-details-container {
        max-width: 800px;
        margin: 40px auto;
        background-color: #fff;
        padding: 40px;
        border-radius: 12px;
        box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        font-family: Arial, sans-serif;
    }

        .tour-details-container h2 {
            text-align: center;
            font-size: 26px;
            margin-bottom: 30px;
            color: #2c3e50;
        }

    .tour-detail-row {
        margin-bottom: 18px;
    }

        .tour-detail-row dt {
            font-weight: bold;
            color: #34495e;
            margin-bottom: 5px;
        }

        .tour-detail-row dd {
            margin: 0;
            font-size: 15px;
            color: #555;
        }

            .tour-detail-row dd.total-price {
                color: #c0392b;
                font-weight: bold;
                font-size: 17px;
            }

    .btn-back {
        display: inline-block;
        background-color: #6c757d;
        color: white;
        text-decoration: none;
        padding: 10px 20px;
        border-radius: 6px;
        font-weight: 500;
        text-align: center;
        margin-top: 30px;
    }

        .btn-back:hover {
            background-color: #5a6268;
        }
</style>


<div class="container mx-auto px-4 py-10">
    <div class="bg-white rounded-xl shadow-lg p-8 max-w-3xl mx-auto border border-gray-200">
        <h2 class="text-3xl font-bold text-center text-indigo-700 mb-8">Chi tiết Đơn Đặt Tour</h2>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 text-gray-800 text-base">
            <div>
                <label class="font-semibold">Mã đặt tour:</label>
                <p>@Model.IdDatTour</p>
            </div>
            <div>
                <img src="~/hinhanh/@Model.IdTourNavigation.HinhAnh" class="w-64 h-40 rounded-lg object-cover border mt-4" />

            </div>
            <div>
                <label class="font-semibold">Khách hàng:</label>
                <p>@Model.IdKhachHangNavigation.HoTenKh (@Model.IdKhachHangNavigation.Email)</p>
            </div>

            <div>
                <label class="font-semibold">Số điện thoại:</label>
                <p>@Model.IdKhachHangNavigation.Sdt</p>
            </div>

            <div>
                <label class="font-semibold">Tên Tour:</label>
                <p>@Model.IdTourNavigation.TenTour</p>
            </div>

            <div>
                <label class="font-semibold">Ngày khởi hành:</label>
                <p>@Model.IdNkhNavigation.NgayKhoiHanh1.ToString("dd/MM/yyyy")</p>
            </div>

            <div>
                <label class="font-semibold">Số người lớn:</label>
                <p>@Model.SoNguoiLon</p>
            </div>

            <div>
                <label class="font-semibold">Số trẻ em:</label>
                <p>@Model.SoTreEm</p>
            </div>

            <div>
                <label class="font-semibold">Phương thức thanh toán:</label>
                <p>@Model.PtthanhToan</p>
            </div>

            <div>
                <label class="font-semibold">Trạng thái:</label>
                <span class="inline-block px-3 py-1 rounded-full text-sm font-semibold
                    @(Model.TrangThai == "Chờ Xác Nhận" ? "bg-yellow-100 text-yellow-800 border border-yellow-400" :
                      Model.TrangThai == "Đã Thanh Toán" ? "bg-green-100 text-green-800 border border-green-400" :
                      Model.TrangThai == "Đã Hoàn Thành" ? "bg-blue-100 text-blue-800 border border-blue-400" :
                      Model.TrangThai == "Đã Hủy" ? "bg-red-100 text-red-800 border border-red-400" :
                      "bg-gray-100 text-gray-600 border border-gray-300")">
                    @Model.TrangThai
                </span>
            </div>

            <div>
                <label class="font-semibold">Tổng tiền:</label>
                <p class="text-red-600 font-bold text-lg">@($"{Model.TongTien:N0} VNĐ")</p>
            </div>

            <div class="md:col-span-2">
                <label class="font-semibold">Ghi chú:</label>
                <p class="whitespace-pre-wrap">@Model.GhiChu</p>
            </div>
        </div>

        <div class="mt-8 text-center">
            <a asp-action="QuanLyDatTour"
               class="inline-block bg-gray-600 hover:bg-gray-700 text-white text-sm font-medium px-6 py-2 rounded-lg transition duration-300">
                ← Quay lại danh sách
            </a>
        </div>
    </div>
</div>
 *@

 @model VNTour.Data.DatTour
@{
    ViewData["Title"] = "Chi tiết Đặt Tour";
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
}

<style>
    body {
        font-family: Arial, sans-serif;
    }

    .detail-container {
        max-width: 850px;
        margin: 50px auto;
        padding: 40px;
        background-color: #fff;
        border-radius: 12px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        border: 1px solid #e0e0e0;
    }

    .detail-title {
        text-align: center;
        font-size: 28px;
        font-weight: bold;
        color: #2c3e50;
        margin-bottom: 30px;
    }

    .detail-grid {
        display: flex;
        flex-wrap: wrap;
        gap: 20px;
    }

    .detail-item {
        flex: 1 1 45%;
    }

    .detail-label {
        font-weight: bold;
        color: #34495e;
        margin-bottom: 6px;
        display: block;
    }

    .detail-value {
        font-size: 15px;
        color: #555;
    }

    .full-width {
        flex: 1 1 100%;
    }

    .total-price {
        color: #c0392b;
        font-weight: bold;
        font-size: 17px;
    }

    .note {
        white-space: pre-wrap;
    }

    .tour-image {
        width: 100%;
        max-width: 280px;
        height: 180px;
        object-fit: cover;
        border-radius: 10px;
        border: 1px solid #ccc;
        margin-top: 10px;
    }

    .badge {
        display: inline-block;
        padding: 5px 12px;
        border-radius: 999px;
        font-size: 13px;
        font-weight: bold;
        border: 1px solid;
    }

    .badge-pending {
        background-color: #fff7ed;
        color: #b45309;
        border-color: #fcd34d;
    }

    .badge-paid {
        background-color: #ecfdf5;
        color: #065f46;
        border-color: #34d399;
    }

    .badge-done {
        background-color: #eff6ff;
        color: #1d4ed8;
        border-color: #93c5fd;
    }

    .badge-cancelled {
        background-color: #fef2f2;
        color: #b91c1c;
        border-color: #fca5a5;
    }

    .badge-default {
        background-color: #f3f4f6;
        color: #6b7280;
        border-color: #d1d5db;
    }

    .btn-back {
        display: inline-block;
        margin-top: 30px;
        padding: 10px 24px;
        background-color: #6c757d;
        color: white;
        text-decoration: none;
        border-radius: 8px;
        font-weight: 500;
        transition: background-color 0.3s;
    }

    .btn-back:hover {
        background-color: #5a6268;
    }

    .detail-item {
        margin-bottom: 15px;
    }

    .detail-label {
        font-weight: bold;
        color: #34495e;
        display: inline-block;
        margin-bottom: 5px;
    }

    .total-price {
        color: #c0392b;
        font-weight: bold;
        font-size: 16px;
    }

</style>

<div class="detail-container">
    <h2 class="detail-title">Chi tiết Đơn Đặt Tour</h2>

    <div class="detail-grid">
      
        <div class="detail-item">
            <label class="detail-label">Mã đặt tour:</label>
            <p class="detail-value">@Model.IdDatTour</p>
        </div>

        <div class="detail-item">
            <label class="detail-label">Khách hàng:</label>
            <p class="detail-value">@Model.IdKhachHangNavigation.HoTenKh (@Model.IdKhachHangNavigation.Email)</p>
        </div>

        <div class="detail-item">
            <label class="detail-label">Số điện thoại:</label>
            <p class="detail-value">@Model.IdKhachHangNavigation.Sdt</p>
        </div>

        <div class="detail-item">
            <label class="detail-label">Tên Tour:</label>
            <p class="detail-value">@Model.IdTourNavigation.TenTour</p>
        </div>

        <div class="detail-item">
            <label class="detail-label">Ngày khởi hành:</label>
            <p class="detail-value">@Model.IdNkhNavigation.NgayKhoiHanh1.ToString("dd/MM/yyyy")</p>
        </div>

        <div class="detail-item">
            <label class="detail-label">Số người lớn:</label>
            <p class="detail-value">@Model.SoNguoiLon</p>
        </div>

        <div class="detail-item">
            <label class="detail-label">Số trẻ em:</label>
            <p class="detail-value">@Model.SoTreEm</p>
        </div>

        <div class="detail-item">
            <label class="detail-label">Phương thức thanh toán:</label>
            <p class="detail-value">@Model.PtthanhToan</p>
        </div>

        <div class="detail-item">
            <label class="detail-label">Trạng thái:</label>
            <span class="badge 
                @(Model.TrangThai == "Chờ Xác Nhận" ? "badge-pending" :
                  Model.TrangThai == "Đã Thanh Toán" ? "badge-paid" :
                  Model.TrangThai == "Đã Hoàn Thành" ? "badge-done" :
                  Model.TrangThai == "Đã Hủy" ? "badge-cancelled" :
                  "badge-default")">
                @Model.TrangThai
            </span>
        </div>

     @*    <div class="detail-item">
            <label class="detail-label">Tổng tiền:</label>
            <p class="total-price">@Model.TongTien.ToString("N0") VNĐ</p>
        </div> *@
        <div class="detail-item">
            <label class="detail-label">Tổng tiền:</label>
            <p class="total-price">@((Model.TongTien ?? 0).ToString("N0")) VNĐ</p>

        </div>


        <div class="detail-item full-width">
            <label class="detail-label">Ghi chú:</label>
            <p class="detail-value note">@Model.GhiChu</p>
        </div>

        <div class="detail-item">
            <label class="detail-label">Hình ảnh tour:</label>
            <img src="~/hinhanh/@Model.IdTourNavigation.HinhAnh" alt="Ảnh Tour" class="tour-image" />
        </div>
    </div>

    <div style="text-align:center;">
        <a asp-action="QuanLyDatTour" class="btn-back">← Quay lại danh sách</a>
    </div>
</div>
