"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[79962],{79962:function(r,e,n){n.d(e,{Z:function(){return c}});var t=n(44336),u=n(42586);function c(r){var e=r.price,n=(r.havePostFix,(0,u.useLocale)()),c=(0,t.U)(),o=c.currency,i=c.localCurrencies;if(i){var s=i.rates,a=s.VND,l=s[null!=o?o:"VND"];return e=l&&a?parseFloat(e.toString())*l/a:parseFloat(e.toString()),new Intl.NumberFormat(n,{style:"currency",currency:null!=o?o:"VND"}).format(parseFloat(e.toString()))}return new Intl.NumberFormat(n,{style:"currency",currency:"VND"}).format(parseFloat(e.toString()))}},44336:function(r,e,n){n.d(e,{T:function(){return N},U:function(){return E}});var t,u=n(33583),c=n(57437),o=n(27667),i=n(2265),s=n(2403),a=n(5853),l=n(69119),f=(t=(0,s._)((function(){return(0,a.Jh)(this,(function(r){switch(r.label){case 0:return[4,l.Z.post("/currency/get-curency-rates")];case 1:return[2,r.sent()]}}))})),function(){return t.apply(this,arguments)}),C=n(87740),v=(0,i.createContext)({currency:"VND",setCurrency:function(){},localCurrencies:null,setLocalCurrencies:function(){}}),N=function(r){var e=r.children,n=(0,u._)((0,i.useState)((function(){var r;return null!==(r=(0,o.SN)("NEXT_CURRENCY"))&&void 0!==r?r:"VND"})),2),t=n[0],s=n[1],a=(0,u._)((0,i.useState)((function(){return(0,o.SN)("LOCAL_CURRENCIES")})),2),l=a[0],N=a[1];return(0,i.useEffect)((function(){t&&(0,o.Zc)("NEXT_CURRENCY",t);var r=function(){var r=(0,o.SN)("NEXT_CURRENCY");r!==t&&s(r)};return window.addEventListener("storage",r),function(){return window.removeEventListener("storage",r)}}),[t]),(0,i.useEffect)((function(){null===l&&f().then((function(r){N(r.response),(0,C.zi)("LOCAL_CURRENCIES",r.response,3600)}));var r=function(){var r=(0,C.FF)("LOCAL_CURRENCIES");r!==l&&N(r)};return window.addEventListener("storage",r),function(){return window.removeEventListener("storage",r)}}),[l]),(0,c.jsx)(v.Provider,{value:{currency:t,setCurrency:s,localCurrencies:l,setLocalCurrencies:N},children:e})};function E(){var r=(0,i.useContext)(v);if(!r)throw new Error("useTag must be used within a TagProvider");return r}}}]);